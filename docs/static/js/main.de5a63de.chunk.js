(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(71)},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=a(9);function o(){return r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},"App"),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},r.a.createElement(i.b,{className:"p-2 text-dark",to:"/"}," All Restaurant ")))}var s=a(2),u=a(14),m=a(22),d=a(39),f=a.n(d),h={URL:"https://strapi.privatus.tech",get:function(){return f.a.get(this.URL+"/restaurants")}},v=a(21),E={fromNumber:function(e){var t=parseInt(e);return"number"!==typeof t||isNaN(t)?[]:Object(v.a)(Array(Math.floor(t)).keys())}};function b(e){var t=e.restaurant;return r.a.createElement(n.Fragment,null,E.fromNumber(t.price.substr(1)).map((function(e,t){return r.a.createElement("i",{key:t,className:"fa fa-dollar"})})),"-",t.category.name,"-",t.district.substr(1))}function g(e){var t=e.note;return r.a.createElement(n.Fragment,null,E.fromNumber(t).map((function(e,t){return r.a.createElement("i",{key:t,className:"fa fa-star"})})))}var p=a(15);function N(){var e=Object(u.a)(["\n    object-fit: cover;\n    width: 100%;\n    height: 180px;\n"]);return N=function(){return e},e}function y(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),c=a[0],l=a[1],i=e.restaurants;return c?r.a.createElement(s.a,{to:c}):r.a.createElement("div",{className:"row"},i.map((function(e){return r.a.createElement("div",{className:"col-6 p-3",key:e.id},r.a.createElement("div",{className:"card mb-4 mr-4 shadow-sm"},r.a.createElement("div",{className:"card-body",onClick:function(){return t=e.id,void l("/restaurant/".concat(t));var t}},r.a.createElement(j,{src:h.URL+e.cover[0].url}),r.a.createElement("div",{className:"restaurant-name text-left mb-2"},r.a.createElement("strong",null,e.name)),r.a.createElement("div",{className:"d-flex restaurant-desc"},r.a.createElement("div",{className:"restaurant-content text-left",style:O.halfWidth},r.a.createElement(b,{restaurant:e})),r.a.createElement("div",{className:"restaurant-star text-left",style:O.halfWidth},r.a.createElement(g,{note:e.note}))))))})))}var j=p.a.img(N()),O={halfWidth:{width:"50%"}},w=a(10);function F(e){return e.restaurant.restaurants}function k(e){return e.uiHome.categoryFilters}function x(e){return e.uiHome.neighborhoodFilters}function R(e){var t=k(e),a=x(e),n=Object.keys(t).filter((function(e){return!0===t[e]})),r=Object.keys(a).filter((function(e){return!0===a[e]}));return F(e).filter((function(e){return 0===n.length||n.includes("ALL")||n.includes(e.category.name)})).filter((function(e){return 0===r.length||r.includes(e.district.substring(1))}))}var S="ui-Home/select_category_filter",C="ui-Home/select_neighborhood_filter";function I(e){var t=e.dataSource,a=e.onSelect;return r.a.createElement("ul",{className:"list-group list-group-flush card"},Object.keys(t).map((function(e){return r.a.createElement("li",{key:e,className:"list-group-item text-left"},r.a.createElement("input",{id:e,type:"checkbox",className:"mr-2",checked:t[e],onChange:function(){return a(e)}}),r.a.createElement("label",{htmlFor:e},e))})))}var L={selectCategoryFilter:function(e){return function(t){return t({type:S,category:e})}},selectNeighborhoodFilter:function(e){return function(t){return t({type:C,neighborhood:e})}}},P=Object(w.b)((function(e){return{categoryFilters:k(e),neighborhoodFilters:x(e)}}),L)((function(e){var t=e.categoryFilters,a=e.neighborhoodFilters,c=e.selectCategoryFilter,l=e.selectNeighborhoodFilter;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"mt-2"},r.a.createElement("strong",null,"Categories (Optional)"),r.a.createElement(I,{dataSource:t,onSelect:c}),r.a.createElement("hr",null),r.a.createElement("strong",null,"Neighborhood (Optional)"),r.a.createElement(I,{dataSource:a,onSelect:l})))})),_="restaurant/restaurants-fetched";function A(){return function(e){return h.get().then((function(t){return e((a=t.data,{type:_,restaurants:a}));var a})).catch(console.log)}}function H(e){var t=e.currentPage,a=e.perPage,n=e.dataSource,c=Math.ceil(n.length/a);function l(e){return t===e+1?"page-item active":"page-item"}return 0===n.length?null:r.a.createElement("nav",{"aria-label":"pagination"},r.a.createElement("ul",{className:"pagination pagination-lg"},E.fromNumber(c).map((function(e){return r.a.createElement("li",{key:e,className:l(e)},r.a.createElement(i.b,{to:"/page/".concat(e+1),className:"page-link",href:"#"},e+1))}))))}H.defaultProps={currentPage:1,perPage:10,dataSource:[]};var W={fetchRestaurantsIfNeeded:A},U=Object(w.b)((function(e){return{categoryFilters:k(e),neighborhoodFilters:x(e),filteredRestaurants:R(e)}}),W)((function(e){var t=e.categoryFilters,a=e.neighborhoodFilters,c=e.filteredRestaurants,l=e.fetchRestaurantsIfNeeded,i=Object(s.h)().page,o=Object(s.g)(),u=Object(n.useRef)(!0),m=parseInt(i||1),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t*(a-1),r=t*a;return e.slice(n,r)}(c,4,m);return Object(n.useEffect)((function(){u.current?u.current=!1:o.push("/page/1")}),[t,a]),Object(n.useEffect)((function(){l()}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-3"},r.a.createElement(P,null)),r.a.createElement("div",{className:"col-9"},r.a.createElement(y,{restaurants:d}),r.a.createElement(H,{currentPage:m,perPage:4,dataSource:c})))}));function B(e){var t=e.restaurant;return r.a.createElement("div",{className:"h5"},r.a.createElement("div",{className:"mb-2"},t.name),r.a.createElement("div",{className:"mb-2"},r.a.createElement(b,{restaurant:t})),r.a.createElement("div",null,r.a.createElement(g,{note:t.note})))}function M(){var e=Object(u.a)(["\n    object-fit: cover;\n    width: 100%;\n    height: 150px;\n"]);return M=function(){return e},e}function J(){var e=Object(u.a)(["\n    object-fit: cover;\n    width: 100%; \n    height: 450px;\n"]);return J=function(){return e},e}function T(){var e=Object(u.a)(["\n    display: block;\n    color: white;\n    background-color: black;\n    padding: 0.5rem 0;\n    width: 50px;\n    height: 40px;\n    text-align: center;\n    &:hover {\n        cursor: pointer;\n    }\n"]);return T=function(){return e},e}function D(){var e=Object(u.a)(["\n    position: absolute;\n    margin-top: -20px; \n    margin-left: 20px;\n"]);return D=function(){return e},e}function $(e){var t=e.restaurant,a=Object(n.useState)(t.cover[0].id),c=Object(m.a)(a,2),l=c[0],i=c[1],o=t.cover.find((function(e){return e.id===l})),s=t.cover[0].id,u=t.cover[t.cover.length-1].id;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10"},r.a.createElement(G,{src:h.URL+o.url}),r.a.createElement(q,{className:"d-flex"},r.a.createElement(z,{className:"mr-2",onClick:function(){i(l-1<s?u:l-1)}},"<"),r.a.createElement(z,{onClick:function(){i(l+1>u?s:l+1)}},">"))),r.a.createElement("div",{className:"col-2"},r.a.createElement("div",{className:"d-flex flex-column"},t.cover.filter((function(e){return e.id!==l})).map((function(e,t){return r.a.createElement(K,{key:t,src:h.URL+e.url,onClick:function(){return i(e.id)}})})))))}var q=p.a.div(D()),z=p.a.div(T()),G=p.a.img(J()),K=p.a.img(M());function Q(e){var t=e.restaurant;return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#information-tab",role:"tab","aria-controls":"information-tab","aria-selected":"true"},"Information")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#review-tab",role:"tab","aria-controls":"review-tab","aria-selected":"false"},"Review"))),r.a.createElement("div",{className:"tab-content",id:"myTabContent"},r.a.createElement("div",{className:"tab-pane fade show active p-3",id:"information-tab",role:"tabpanel","aria-labelledby":"information-tab"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h6",null,"Opening Hours"),r.a.createElement("div",null,t.opening_hours.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement("div",null,e.day_interval),r.a.createElement("div",null,e.opening_hour," - ",e.closing_hour))})))),r.a.createElement("div",{className:"col-4"},r.a.createElement("h6",null,"Details"),r.a.createElement("p",null,t.description)),r.a.createElement("div",{className:"col-4"},r.a.createElement("h6",null,"Location"),r.a.createElement("p",null,t.address))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-4 col-4"},r.a.createElement("h6",null,"Neighborhood"),r.a.createElement("p",null,t.district)),r.a.createElement("div",{className:"col-4"},r.a.createElement("h6",null,"Website"),r.a.createElement("p",null,t.website))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"offset-8 col-4"},r.a.createElement("h6",null,"Phone"),r.a.createElement("p",null,t.phone)))),r.a.createElement("div",{className:"tab-pane fade p-3",id:"review-tab",role:"tabpanel","aria-labelledby":"review-tab"},t.reviews.map((function(e,t){return r.a.createElement("div",{key:t,className:"card card-body"},r.a.createElement("div",null,r.a.createElement(g,{note:e.note})),r.a.createElement("p",null,e.content))})))))}var V={fetchRestaurantsIfNeeded:A},X=Object(w.b)((function(e){return{restaurants:F(e)}}),V)((function(e){var t=e.restaurants,a=e.fetchRestaurantsIfNeeded,c=Object(s.h)().id,l=t.find((function(e){return e.id===parseInt(c)}));return Object(n.useEffect)((function(){a()}),[]),l?r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"mb-4"},r.a.createElement(i.b,{className:"p-2 text-dark",to:"/"}," ","<- Back"," ")),r.a.createElement("div",{className:"mb-3"},r.a.createElement(B,{restaurant:l})),r.a.createElement("div",{className:"mb-5"},r.a.createElement($,{restaurant:l})),r.a.createElement("div",null,r.a.createElement(Q,{restaurant:l}))):null}));function Y(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(U,null)),r.a.createElement(s.b,{exact:!0,path:"/page/:page"},r.a.createElement(U,null)),r.a.createElement(s.b,{exact:!0,path:"/restaurant/:id"},r.a.createElement(X,null)))}function Z(){return r.a.createElement("main",{role:"main"},r.a.createElement(o,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(Y,null))))}var ee=a(13),te=a(44),ae=a(18),ne=a(7),re={categoryFilters:{ALL:!1,French:!1,Contemporary:!1,Italian:!1,Mexican:!1,Burgers:!1,Fusion:!1},neighborhoodFilters:{"1st":!1,"2nd":!1,"3rd":!1,"4th":!1,"5th":!1}};function ce(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{categoryFilters:Object(ne.a)(Object(ne.a)({},e.categoryFilters),{},Object(ae.a)({},t.category,!e.categoryFilters[t.category]))})}function le(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{neighborhoodFilters:Object(ne.a)(Object(ne.a)({},e.neighborhoodFilters),{},Object(ae.a)({},t.neighborhood,!e.neighborhoodFilters[t.neighborhood]))})}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return ce(e,t);case C:return le(e,t);default:return e}},oe={isFetched:!1,restaurants:[]};function se(e,t){return Object(ne.a)(Object(ne.a)({},e),{},{isFetched:!0,restaurants:Object(v.a)(t.restaurants)})}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return se(e,t);default:return e}},me=Object(ee.c)({uiHome:ie,restaurant:ue}),de=[te.a],fe=Object(ee.d)(me,{},ee.a.apply(void 0,de));var he=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w.a,{store:fe},r.a.createElement(i.a,null,r.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.de5a63de.chunk.js.map